<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Misc · Vahana Documentation</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">Vahana Documentation</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Introduction</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="tutorial1.html">Tutorial</a></li><li><a class="tocitem" href="hegselmann.html">Opinion Model</a></li><li><a class="tocitem" href="predator.html">Predator / Prey</a></li></ul></li><li><a class="tocitem" href="performance.html">Performance Tuning</a></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="definition.html">Model Definition</a></li><li><a class="tocitem" href="initialization.html">Initialization</a></li><li><a class="tocitem" href="transition.html">Transition Function</a></li><li><a class="tocitem" href="global.html">Global Layer</a></li><li><a class="tocitem" href="plots.html">Plots</a></li><li><a class="tocitem" href="hdf5.html">HDF5</a></li><li><a class="tocitem" href="logging.html">Logging</a></li><li><a class="tocitem" href="config.html">Configuration</a></li><li class="is-active"><a class="tocitem" href="misc.html">Misc</a><ul class="internal"><li><a class="tocitem" href="#Agents"><span>Agents</span></a></li><li><a class="tocitem" href="#Edges"><span>Edges</span></a></li><li><a class="tocitem" href="#REPL"><span>REPL</span></a></li><li><a class="tocitem" href="#Simulation"><span>Simulation</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href="misc.html">Misc</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="misc.html">Misc</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/s-fuerst/Vahana.jl/blob/da98d7701f915637a431cbb1a0a8e9658e9c4124/docs/src/misc.md" title="View on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">View on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Misc"><a class="docs-heading-anchor" href="#Misc">Misc</a><a id="Misc-1"></a><a class="docs-heading-anchor-permalink" href="#Misc" title="Permalink"></a></h1><p>Here are the remaining exported Vahana definitions that do not fit into any of the previous categories:</p><h2 id="Agents"><a class="docs-heading-anchor" href="#Agents">Agents</a><a id="Agents-1"></a><a class="docs-heading-anchor-permalink" href="#Agents" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Vahana.ProcessID" href="#Vahana.ProcessID"><code>Vahana.ProcessID</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ProcessID</code></pre><p>The rank on which the agent is currently managed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-fuerst/Vahana.jl/blob/da98d7701f915637a431cbb1a0a8e9658e9c4124/src/Agent.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Vahana.AgentID" href="#Vahana.AgentID"><code>Vahana.AgentID</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs"> AgentID</code></pre><p>The AgentID is a combination of different (Vahana internal) information about an agent, like e.g. the position where the agent state is stored. It&#39;s important to understand that at different times different agents can have the same agent id, therefore those ids can not be used to identify an agent a simulation run. If you need this, you must add an field to the agent state and create an unique value for this field in the agent constructor by yourself.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-fuerst/Vahana.jl/blob/da98d7701f915637a431cbb1a0a8e9658e9c4124/src/Agent.jl#L45-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Vahana.all_agents" href="#Vahana.all_agents"><code>Vahana.all_agents</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">all_agents(sim, ::Type{T}, [all_ranks=false])</code></pre><p>This function retrieves a vector of the states for all agents of type T of the simulation <code>sim</code>.</p><p>The <code>all_ranks</code> argument determines whether to include agents from all ranks or just the current rank in parallel simulations. When <code>all_ranks</code> is <code>true</code>, the function returns a vector of all agent identifiers across all ranks.  </p><p>See also [<code>add_agents!</code>] and (@ref)<a href="misc.html#Vahana.num_agents"><code>num_agents</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-fuerst/Vahana.jl/blob/da98d7701f915637a431cbb1a0a8e9658e9c4124/src/Agent.jl#L193-L205">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Vahana.num_agents" href="#Vahana.num_agents"><code>Vahana.num_agents</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">num_agents(sim, ::Type{T}, [all_ranks=true])</code></pre><p>If <code>all_ranks</code> is <code>true</code> this function retrieves the number of agents of type T of the simulation <code>sim</code>. When it is set to <code>false</code>, the function will return the number of agents managed by the process.</p><p>See also [<code>add_agents!</code>] and <a href="misc.html#Vahana.all_agents"><code>all_agents</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-fuerst/Vahana.jl/blob/da98d7701f915637a431cbb1a0a8e9658e9c4124/src/Agent.jl#L225-L233">source</a></section></article><h2 id="Edges"><a class="docs-heading-anchor" href="#Edges">Edges</a><a id="Edges-1"></a><a class="docs-heading-anchor-permalink" href="#Edges" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Vahana.num_edges-Union{Tuple{T}, Tuple{Any, Type{T}}, Tuple{Any, Type{T}, Any}} where T" href="#Vahana.num_edges-Union{Tuple{T}, Tuple{Any, Type{T}}, Tuple{Any, Type{T}, Any}} where T"><code>Vahana.num_edges</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">num_edges(sim, ::Type{T}, [sum_ranks=false])</code></pre><p>If <code>all_ranks</code> is <code>true</code> this function retrieves the number of edges of type <code>T</code> of the simulation <code>sim</code>. When it is set to <code>false</code>, the function will only return the number of edges of type <code>T</code> managed by the process.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-fuerst/Vahana.jl/blob/da98d7701f915637a431cbb1a0a8e9658e9c4124/src/Edge.jl#L222-L228">source</a></section></article><h2 id="REPL"><a class="docs-heading-anchor" href="#REPL">REPL</a><a id="REPL-1"></a><a class="docs-heading-anchor-permalink" href="#REPL" title="Permalink"></a></h2><p>Vahana has some features that support model development via Julia&#39;s interactive command line REPL. In this case, the simulation is not parallelized, but the same code runs later via parallelization without requiring any (or minimal) changes.</p><p>Beside the pretty-printing of a simulation as shown in the tutorial(s), there are also additional functions that allows to investigate the current state of a simulation:</p><article class="docstring"><header><a class="docstring-binding" id="Vahana.show_agent" href="#Vahana.show_agent"><code>Vahana.show_agent</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">show_agent(sim, Type{T}, [id=0; max=5, neighborstate = []])</code></pre><p>Display detailed information about the agent with ID <code>id</code>, or in the case that id is a value &lt; 2^36, the information of the nth agent of type T. If <code>id</code> is 0 (the default value), a random agent of type T is selected.</p><p>Returns the ID of the agent (which is especially useful when a random agent is selected).</p><p>Keyword arguments:</p><p><code>max</code> controls the maximal number of edges that are shown per network (per direction).</p><p>If a field of an agent on the source side of an edge is listed in the <code>neighborstate</code> vector, the value of this field will be also shown.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-fuerst/Vahana.jl/blob/da98d7701f915637a431cbb1a0a8e9658e9c4124/src/REPL.jl#L235-L253">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFrames.DataFrame-Tuple{Vahana.Simulation, DataType}" href="#DataFrames.DataFrame-Tuple{Vahana.Simulation, DataType}"><code>DataFrames.DataFrame</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">DataFrame(sim::Simulation, T::DataType; types = false, localnr = false)</code></pre><p>Creates a DataFrame with the current state of agents or edges of type <code>T</code>.  By default, the ID columns show the complete <a href="misc.html#Vahana.AgentID"><code>AgentID</code></a>. for readability (and the use of <a href="misc.html#Vahana.show_agent"><code>show_agent</code></a>) it may be useful to show only the lowest 36 bits, which gives a much more readable value, by setting the <code>localnr</code> argument to true. Since for edges the type information of the source and target agents is no longer available in this case, the <code>types</code> argument can be used to create additional columns containing the types of these agents.</p><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p><code>DataFrame</code> is only available when the DataFrame.jl package is imported by the model implementation. </p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-fuerst/Vahana.jl/blob/da98d7701f915637a431cbb1a0a8e9658e9c4124/src/optional/DataFrames.jl#L5-L23">source</a></section></article><p><a href="transition.html#Vahana.apply"><code>apply</code></a> can be used to calculate a transition function without modifying the original state. This can be useful in the development process, but for the final simulation the function should be replaced with the modifying version <code>apply!</code>.</p><h2 id="Simulation"><a class="docs-heading-anchor" href="#Simulation">Simulation</a><a id="Simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Vahana.copy_simulation" href="#Vahana.copy_simulation"><code>Vahana.copy_simulation</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">copy_simulation(sim)</code></pre><p>Create an independent copy of the simulation <code>sim</code>. Since part of the memory is allocated via MPI, you should not use deepcopy. </p><p>Also, the copy is detached from any output or logger file so that not sim and copy tried to write to the same file(s). If these are needed, you can create these files for the copy by calling <a href="hdf5.html#Vahana.create_h5file!"><code>create_h5file!</code></a> and/or <a href="logging.html#Vahana.create_logger!"><code>create_logger!</code></a> and assigning the results to the h5file/logging field of the returned simulation.</p><p>Returns the copy of the simulation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-fuerst/Vahana.jl/blob/da98d7701f915637a431cbb1a0a8e9658e9c4124/src/Simulation.jl#L398-L411">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Vahana.finish_simulation!" href="#Vahana.finish_simulation!"><code>Vahana.finish_simulation!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">finish_simulation!(sim)</code></pre><p>Remove all agents/edges and rasters from the simulation to minimize the memory footprint. The <code>parameters</code> and <code>globals</code> of the simulation are still available, the remaining state of the simulation is undefined.</p><p>Returns the globals of the simulation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-fuerst/Vahana.jl/blob/da98d7701f915637a431cbb1a0a8e9658e9c4124/src/Simulation.jl#L444-L453">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="config.html">« Configuration</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Monday 15 January 2024 18:34">Monday 15 January 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
